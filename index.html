<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        
    </style>
</head>

<body >

    <div class="ml-10 mr-10">
        <div class="flex flex-col  items-center mt-10 mb-10 ">
            <p class="text-3xl font-semibold mb-10 font-serif ">Image Search App </p>
            <div>
                <!-- <form action="#"> -->
                    <input id="userInputValue"
                        class=" border w-96  p-2 rounded-md shadow-sm text-base border border-black font-semibold "
                        type="text" placeholder="Search for images...">
                    <button id="searchBtn"
                        class=" border w-24 p-2 shadow-md rounded-md text-base border border-black font-semibold bg-blue-50 hover:bg-green-200 ">Search</button>
                <!-- </form> -->
            </div>
        </div>
            <div class="displayImages flex flex-wrap gap-y-6  justify-evenly">
             </div>
        </div>


        <button id="show-more-btn" class="border border-black hidden">Show More</button>
    </div>

    <script>

       const acceApiKey = "9ff3SQenMI-9RiQuifiJu54hnBO8Jitr1F7h5vwpDgE";
 
       let userInputValue = document.getElementById("userInputValue");
 
       let searchButton = document.getElementById("searchBtn");
 
       searchButton.addEventListener("click", function(){
            let query = userInputValue.value;
            if(query.trim() !== ""){
                serachImg(query);
            }
        });

        function serachImg(query){

            const url = `https://api.unsplash.com/search/photos?query=${query}&client_id=${acceApiKey}`;
            
            fetch(url)
            .then(reponse => reponse.json())
            .then(data=>{
                displayImages(data.results);
            })
            .catch(error => console.log("Error fetching images:",error));
        }

        function displayImages(imagesData){
            let imageCards = document.querySelector(".displayImages");
            imageCards.innerHTML ='';
            imagesData.forEach(data => {
                let div = document.createElement("div");
                div.innerHTML = `<div  class="card border p-3 h-fit w-80 bg-blue-200 shadow-md hover:bg-red-300">
                                 <img class="bg-cover h-80 w-80 " src="${data.urls.small}" alt="${data.alt_description}"> 
                                 <p class="font-medium text-center">${data.alt_description}</p>
                                 </div>`;
                imageCards.append(div);
            });
            
        }


    </script>
</body>

</html>